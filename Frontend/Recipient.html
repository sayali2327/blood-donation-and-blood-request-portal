<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Submit Blood Request</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/lucide@latest"></script>
  <link rel="stylesheet" href="recipient.css">
  <!-- Add inside <head> before your other styles/scripts -->
<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
</head>
<body class="bg-gray-50">
      <nav>
    <div class="logo">Lifesaver Portal</div>
    <ul>
      <li><a href="index.html">Home</a></li>
      <li><a href="donor.html">Donate</a></li>
      <li><a href="Recipient.html">Request</a></li>
      <li><a href="#">Find Donors</a></li>
      <li><a href="#">Statistics</a></li>
      <li><a href="register.html">Register</a></li>
      <li><a href="login.html">Logout</a></li>
    </ul>
  </nav>
  <div id="requestView" class="view">
    <div class="container py-8">
      <div class="max-w-4xl mx-auto">
        <div class="card shadow-lg bg-white rounded-2xl overflow-hidden">
          <div class="bg-red-50 border-b p-6">
            <h1 class="text-2xl font-bold text-red-700 flex items-center gap-3">
              <i data-lucide="heart" class="w-6 h-6"></i>
              Submit Blood Request
            </h1>
            <p class="text-gray-600 mt-2">
              Fill out this form to request blood for a patient in need. All fields marked with * are required.
            </p>
          </div>
          <div class="p-6">
            <form id="bloodRequestForm" class="space-y-6">
              <!-- Patient Information -->
              <div class="space-y-4">
                <h3 class="text-lg font-semibold flex items-center gap-2">
                  <i data-lucide="user" class="w-5 h-5"></i>
                  Patient Information
                </h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                  <div class="form-group">
                    <label class="form-label block mb-1 font-medium" for="patientName">Patient Name *</label>
                    <input class="form-input w-full border rounded-lg px-3 py-2" id="patientName" type="text" placeholder="Enter patient's full name" required>
                  </div>
                  <div class="form-group">
                    <label class="form-label block mb-1 font-medium" for="bloodType">Blood Type *</label>
                    <select class="form-select w-full border rounded-lg px-3 py-2" id="bloodType" required>
                      <option value="">Select blood type</option>
                      <option value="A+">A+</option>
                      <option value="A-">A-</option>
                      <option value="B+">B+</option>
                      <option value="B-">B-</option>
                      <option value="AB+">AB+</option>
                      <option value="AB-">AB-</option>
                      <option value="O+">O+</option>
                      <option value="O-">O-</option>
                    </select>
                  </div>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                  <div class="form-group">
                    <label class="form-label block mb-1 font-medium" for="unitsNeeded">Units Needed *</label>
                    <input class="form-input w-full border rounded-lg px-3 py-2" id="unitsNeeded" type="number" min="1" max="20" placeholder="Number of units" required>
                  </div>
                  <div class="form-group">
                    <label class="form-label block mb-1 font-medium" for="urgency">Urgency Level *</label>
                    <select class="form-select w-full border rounded-lg px-3 py-2" id="urgency" required>
                      <option value="">Select urgency</option>
                      <option value="critical">Critical (1-6 hours)</option>
                      <option value="urgent">Urgent (6-24 hours)</option>
                      <option value="normal">Normal (1-3 days)</option>
                    </select>
                    <div id="urgencyWarning" class="hidden flex items-center gap-2 mt-2 text-red-600 text-sm">
                      <i data-lucide="alert-triangle" class="w-4 h-4"></i>
                      Critical requests are processed immediately
                    </div>
                  </div>
                </div>
              </div>

              <!-- Hospital Information -->
              <div class="space-y-4">
                <h3 class="text-lg font-semibold flex items-center gap-2">
                  <i data-lucide="map-pin" class="w-5 h-5"></i>
                  Hospital Information
                </h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                  <div class="form-group">
                    <label class="form-label block mb-1 font-medium" for="hospital">Hospital/Medical Center *</label>
                    <input class="form-input w-full border rounded-lg px-3 py-2" id="hospital" type="text" placeholder="Enter hospital name" required>
                  </div>
                  <div class="form-group">
                    <label class="form-label block mb-1 font-medium" for="location">Location/Address *</label>
                    <input class="form-input w-full border rounded-lg px-3 py-2" id="location" type="text" placeholder="City, State" required>
                  </div>
                </div>
              </div>

              <!-- Contact Information -->
              <div class="space-y-4">
                <h3 class="text-lg font-semibold flex items-center gap-2">
                  <i data-lucide="phone" class="w-5 h-5"></i>
                  Contact Information
                </h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                  <div class="form-group">
                    <label class="form-label block mb-1 font-medium" for="contactName">Contact Person *</label>
                    <input class="form-input w-full border rounded-lg px-3 py-2" id="contactName" type="text" placeholder="Doctor/Relative name" required>
                  </div>
                  <div class="form-group">
                    <label class="form-label block mb-1 font-medium" for="contactPhone">Contact Phone *</label>
                    <input class="form-input w-full border rounded-lg px-3 py-2" id="contactPhone" type="tel" placeholder="Phone number" required>
                  </div>
                </div>
              </div>
<div class="form-group">
  <label class="form-label block mb-1 font-medium" for="location">Location/Address *</label>
  <input class="form-input w-full border rounded-lg px-3 py-2" id="location" type="text" placeholder="City, State" required>
</div>
<div id="map" style="height: 300px; border-radius: 12px; margin-top: 1rem;"></div>
              <!-- Additional Details -->
              <div class="space-y-4">
                <h3 class="text-lg font-semibold">Additional Details</h3>
                <div class="form-group">
                  <label class="form-label block mb-1 font-medium" for="reason">Reason for Blood Need</label>
                  <select class="form-select w-full border rounded-lg px-3 py-2" id="reason">
                    <option value="">Select reason</option>
                    <option value="surgery">Surgery</option>
                    <option value="accident">Accident/Trauma</option>
                    <option value="cancer">Cancer Treatment</option>
                    <option value="pregnancy">Pregnancy Complications</option>
                    <option value="chronic">Chronic Condition</option>
                    <option value="other">Other</option>
                  </select>
                </div>
                <div class="form-group">
                  <label class="form-label block mb-1 font-medium" for="additionalNotes">Additional Notes</label>
                  <textarea class="form-textarea w-full border rounded-lg px-3 py-2" id="additionalNotes" placeholder="Any special requirements or additional information" rows="3"></textarea>
                </div>
              </div>

              <!-- Submit Button -->
              <div class="flex flex-col gap-4 pt-6 border-t">
                <div class="flex items-center justify-between">
                  <div class="text-sm text-gray-600">* Required fields</div>
                  <div id="urgencyBadge" class="hidden"></div>
                </div>
                <button type="submit" class="bg-red-600 hover:bg-red-700 text-white rounded-xl px-4 py-3 text-lg font-semibold flex items-center justify-center gap-2">
                  <span>Submit Blood Request</span>
                  <i data-lucide="heart" class="w-5 h-5"></i>
                </button>
                <p class="text-xs text-gray-500 text-center">
                  By submitting this request, you agree to our terms and conditions. 
                  All information will be kept confidential and used only for matching purposes.
                </p>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    lucide.createIcons();

    const urgencySelect = document.getElementById('urgency');
    const urgencyWarning = document.getElementById('urgencyWarning');

    urgencySelect.addEventListener('change', () => {
      if (urgencySelect.value === 'critical') {
        urgencyWarning.classList.remove('hidden');
      } else {
        urgencyWarning.classList.add('hidden');
      }
    });
  </script>
  <script src="Recipient.js"></script>
</body>
</html>
