<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lifesaver Portal - Blood Donation Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --font-size: 14px;
            --primary-red: #dc2626;
            --primary-red-hover: #b91c1c;
            --secondary-red: #fef2f2;
            --text-gray-900: #111827;
            --text-gray-600: #4b5563;
            --text-gray-500: #6b7280;
            --text-gray-400: #9ca3af;
            --bg-gray-50: #f9fafb;
            --bg-gray-100: #f3f4f6;
            --border-gray-200: #e5e7eb;
            --border-gray-300: #d1d5db;
            --green-500: #10b981;
            --green-600: #059669;
            --blue-500: #3b82f6;
            --blue-600: #2563eb;
            --orange-500: #f97316;
            --purple-500: #8b5cf6;
            --yellow-500: #eab308;
            --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
            --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
            --radius: 0.375rem;
        }

        html {
            font-size: var(--font-size);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.5;
            color: var(--text-gray-900);
            background-color: white;
        }

        /* Utility Classes */
        .container {
            max-width: 1280px;
            margin: 0 auto;
            padding: 0 1rem;
        }

        .hidden { display: none !important; }
        .block { display: block !important; }
        .flex { display: flex; }
        .grid { display: grid; }
        .items-center { align-items: center; }
        .items-start { align-items: flex-start; }
        .justify-center { justify-content: center; }
        .justify-between { justify-content: space-between; }
        .space-x-2 > * + * { margin-left: 0.5rem; }
        .space-x-4 > * + * { margin-left: 1rem; }
        .space-x-6 > * + * { margin-left: 1.5rem; }
        .space-y-2 > * + * { margin-top: 0.5rem; }
        .space-y-4 > * + * { margin-top: 1rem; }
        .space-y-6 > * + * { margin-top: 1.5rem; }
        .gap-2 { gap: 0.5rem; }
        .gap-4 { gap: 1rem; }
        .gap-6 { gap: 1.5rem; }
        .gap-8 { gap: 2rem; }
        .text-center { text-align: center; }
        .text-left { text-align: left; }
        .text-right { text-align: right; }
        .text-white { color: white; }
        .text-red-600 { color: var(--primary-red); }
        .text-red-700 { color: var(--primary-red-hover); }
        .text-gray-400 { color: var(--text-gray-400); }
        .text-gray-500 { color: var(--text-gray-500); }
        .text-gray-600 { color: var(--text-gray-600); }
        .text-gray-900 { color: var(--text-gray-900); }
        .text-green-600 { color: var(--green-600); }
        .text-blue-600 { color: var(--blue-600); }
        .text-orange-600 { color: var(--orange-500); }
        .text-purple-600 { color: var(--purple-500); }
        .bg-white { background-color: white; }
        .bg-red-50 { background-color: var(--secondary-red); }
        .bg-red-600 { background-color: var(--primary-red); }
        .bg-red-700 { background-color: var(--primary-red-hover); }
        .bg-gray-50 { background-color: var(--bg-gray-50); }
        .bg-gray-100 { background-color: var(--bg-gray-100); }
        .bg-gray-900 { background-color: #111827; }
        .bg-green-50 { background-color: #f0fdf4; }
        .bg-green-100 { background-color: #dcfce7; }
        .bg-green-500 { background-color: var(--green-500); }
        .bg-blue-50 { background-color: #eff6ff; }
        .bg-blue-500 { background-color: var(--blue-500); }
        .bg-orange-50 { background-color: #fff7ed; }
        .bg-orange-500 { background-color: var(--orange-500); }
        .bg-purple-50 { background-color: #faf5ff; }
        .bg-purple-500 { background-color: var(--purple-500); }
        .bg-yellow-500 { background-color: var(--yellow-500); }
        .border { border: 1px solid var(--border-gray-200); }
        .border-t { border-top: 1px solid var(--border-gray-200); }
        .border-b { border-bottom: 1px solid var(--border-gray-200); }
        .border-l-4 { border-left: 4px solid; }
        .border-red-200 { border-color: #fecaca; }
        .border-red-500 { border-color: var(--primary-red); }
        .border-green-200 { border-color: #bbf7d0; }
        .border-green-500 { border-color: var(--green-500); }
        .border-blue-200 { border-color: #dbeafe; }
        .border-blue-500 { border-color: var(--blue-500); }
        .border-orange-200 { border-color: #fed7aa; }
        .border-orange-500 { border-color: var(--orange-500); }
        .border-purple-200 { border-color: #e9d5ff; }
        .border-purple-500 { border-color: var(--purple-500); }
        .border-gray-200 { border-color: var(--border-gray-200); }
        .border-gray-300 { border-color: var(--border-gray-300); }
        .border-gray-800 { border-color: #1f2937; }
        .rounded { border-radius: var(--radius); }
        .rounded-md { border-radius: calc(var(--radius) - 2px); }
        .rounded-lg { border-radius: var(--radius); }
        .rounded-xl { border-radius: calc(var(--radius) + 4px); }
        .rounded-2xl { border-radius: 1rem; }
        .rounded-full { border-radius: 9999px; }
        .shadow-sm { box-shadow: var(--shadow-sm); }
        .shadow-md { box-shadow: var(--shadow-md); }
        .shadow-lg { box-shadow: var(--shadow-lg); }
        .p-2 { padding: 0.5rem; }
        .p-3 { padding: 0.75rem; }
        .p-4 { padding: 1rem; }
        .p-6 { padding: 1.5rem; }
        .p-8 { padding: 2rem; }
        .px-3 { padding-left: 0.75rem; padding-right: 0.75rem; }
        .px-4 { padding-left: 1rem; padding-right: 1rem; }
        .px-6 { padding-left: 1.5rem; padding-right: 1.5rem; }
        .px-8 { padding-left: 2rem; padding-right: 2rem; }
        .py-2 { padding-top: 0.5rem; padding-bottom: 0.5rem; }
        .py-3 { padding-top: 0.75rem; padding-bottom: 0.75rem; }
        .py-4 { padding-top: 1rem; padding-bottom: 1rem; }
        .py-8 { padding-top: 2rem; padding-bottom: 2rem; }
        .py-12 { padding-top: 3rem; padding-bottom: 3rem; }
        .py-16 { padding-top: 4rem; padding-bottom: 4rem; }
        .pt-2 { padding-top: 0.5rem; }
        .pt-6 { padding-top: 1.5rem; }
        .pt-8 { padding-top: 2rem; }
        .pb-2 { padding-bottom: 0.5rem; }
        .pb-3 { padding-bottom: 0.75rem; }
        .pr-2 { padding-right: 0.5rem; }
        .pl-3 { padding-left: 0.75rem; }
        .m-2 { margin: 0.5rem; }
        .mb-2 { margin-bottom: 0.5rem; }
        .mb-4 { margin-bottom: 1rem; }
        .mb-6 { margin-bottom: 1.5rem; }
        .mb-8 { margin-bottom: 2rem; }
        .mb-10 { margin-bottom: 2.5rem; }
        .mb-12 { margin-bottom: 3rem; }
        .mb-16 { margin-bottom: 4rem; }
        .ml-2 { margin-left: 0.5rem; }
        .mr-2 { margin-right: 0.5rem; }
        .mt-2 { margin-top: 0.5rem; }
        .mt-4 { margin-top: 1rem; }
        .mt-6 { margin-top: 1.5rem; }
        .mt-8 { margin-top: 2rem; }
        .mt-16 { margin-top: 4rem; }
        .-top-2 { top: -0.5rem; }
        .-right-2 { right: -0.5rem; }
        .top-0 { top: 0; }
        .left-0 { left: 0; }
        .right-0 { right: 0; }
        .bottom-0 { bottom: 0; }
        .inset-0 { top: 0; right: 0; bottom: 0; left: 0; }
        .absolute { position: absolute; }
        .relative { position: relative; }
        .w-2 { width: 0.5rem; }
        .w-3 { width: 0.75rem; }
        .w-4 { width: 1rem; }
        .w-5 { width: 1.25rem; }
        .w-6 { width: 1.5rem; }
        .w-8 { width: 2rem; }
        .w-12 { width: 3rem; }
        .w-16 { width: 4rem; }
        .w-full { width: 100%; }
        .h-2 { height: 0.5rem; }
        .h-4 { height: 1rem; }
        .h-5 { height: 1.25rem; }
        .h-6 { height: 1.5rem; }
        .h-8 { height: 2rem; }
        .h-12 { height: 3rem; }
        .h-16 { height: 4rem; }
        .h-full { height: 100%; }
        .min-h-screen { min-height: 100vh; }
        .min-h-600 { min-height: 600px; }
        .max-w-2xl { max-width: 42rem; }
        .max-w-3xl { max-width: 48rem; }
        .max-w-4xl { max-width: 56rem; }
        .max-w-7xl { max-width: 80rem; }
        .mx-auto { margin-left: auto; margin-right: auto; }
        .object-cover { object-fit: cover; }
        .opacity-60 { opacity: 0.6; }
        .opacity-80 { opacity: 0.8; }
        .opacity-90 { opacity: 0.9; }
        .cursor-pointer { cursor: pointer; }
        .transition-colors { transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out; }
        .transition-shadow { transition: box-shadow 0.15s ease-in-out; }
        .transition-all { transition: all 0.15s ease-in-out; }
        .hover\:bg-red-700:hover { background-color: var(--primary-red-hover); }
        .hover\:bg-red-200:hover { background-color: #fecaca; }
        .hover\:bg-gray-50:hover { background-color: var(--bg-gray-50); }
        .hover\:bg-gray-100:hover { background-color: var(--bg-gray-100); }
        .hover\:bg-white:hover { background-color: white; }
        .hover\:text-red-200:hover { color: #fecaca; }
        .hover\:text-red-600:hover { color: var(--primary-red); }
        .hover\:text-red-700:hover { color: var(--primary-red-hover); }
        .hover\:text-white:hover { color: white; }
        .hover\:shadow-md:hover { box-shadow: var(--shadow-md); }
        .hover\:shadow-lg:hover { box-shadow: var(--shadow-lg); }
        .hover\:-translate-y-1:hover { transform: translateY(-0.25rem); }
        .z-0 { z-index: 0; }
        .z-10 { z-index: 10; }
        .overflow-hidden { overflow: hidden; }
        .truncate { overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
        
        /* Typography */
        .font-bold { font-weight: 700; }
        .font-semibold { font-weight: 600; }
        .font-medium { font-weight: 500; }
        .text-xs { font-size: 0.75rem; }
        .text-sm { font-size: 0.875rem; }
        .text-base { font-size: 1rem; }
        .text-lg { font-size: 1.125rem; }
        .text-xl { font-size: 1.25rem; }
        .text-2xl { font-size: 1.5rem; }
        .text-3xl { font-size: 1.875rem; }
        .text-5xl { font-size: 3rem; }
        .text-6xl { font-size: 3.75rem; }
        .leading-relaxed { line-height: 1.625; }
        .underline { text-decoration: underline; }

        /* Custom Components */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 0.5rem 1rem;
            font-size: 0.875rem;
            font-weight: 500;
            border-radius: var(--radius);
            border: none;
            cursor: pointer;
            transition: all 0.15s ease-in-out;
            text-decoration: none;
        }

        .btn-primary {
            background-color: var(--primary-red);
            color: white;
        }

        .btn-primary:hover {
            background-color: var(--primary-red-hover);
        }

        .btn-secondary {
            background-color: white;
            color: var(--primary-red);
            border: 1px solid var(--primary-red);
        }

        .btn-secondary:hover {
            background-color: var(--secondary-red);
        }

        .btn-ghost {
            background-color: transparent;
            color: inherit;
        }

        .btn-ghost:hover {
            background-color: rgba(0, 0, 0, 0.05);
        }

        .btn-sm {
            padding: 0.25rem 0.75rem;
            font-size: 0.75rem;
        }

        .btn-lg {
            padding: 0.75rem 1.5rem;
            font-size: 1rem;
        }

        .card {
            background-color: white;
            border-radius: var(--radius);
            border: 1px solid var(--border-gray-200);
            box-shadow: var(--shadow-sm);
        }

        .card-header {
            padding: 1.5rem 1.5rem 1rem 1.5rem;
        }

        .card-content {
            padding: 0 1.5rem 1.5rem 1.5rem;
        }

        .card-title {
            font-size: 1.125rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .badge {
            display: inline-flex;
            align-items: center;
            padding: 0.25rem 0.5rem;
            font-size: 0.75rem;
            font-weight: 500;
            border-radius: 0.375rem;
            background-color: var(--bg-gray-100);
            color: var(--text-gray-900);
        }

        .badge-outline {
            background-color: transparent;
            border: 1px solid var(--border-gray-200);
        }

        .badge-success {
            background-color: var(--green-500);
            color: white;
        }

        .badge-warning {
            background-color: var(--orange-500);
            color: white;
        }

        .badge-danger {
            background-color: var(--primary-red);
            color: white;
        }

        .progress {
            width: 100%;
            height: 0.5rem;
            background-color: var(--bg-gray-100);
            border-radius: 9999px;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background-color: var(--green-500);
            transition: width 0.3s ease;
        }

        .progress-bar.warning {
            background-color: var(--orange-500);
        }

        .progress-bar.danger {
            background-color: var(--primary-red);
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-label {
            display: block;
            font-size: 0.875rem;
            font-weight: 500;
            margin-bottom: 0.5rem;
            color: var(--text-gray-900);
        }

        .form-input, .form-select, .form-textarea {
            width: 100%;
            padding: 0.5rem 0.75rem;
            font-size: 0.875rem;
            border: 1px solid var(--border-gray-300);
            border-radius: var(--radius);
            background-color: white;
            transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
        }

        .form-input:focus, .form-select:focus, .form-textarea:focus {
            outline: none;
            border-color: var(--primary-red);
            box-shadow: 0 0 0 3px rgba(220, 38, 38, 0.1);
        }

        .form-textarea {
            resize: vertical;
            min-height: 80px;
        }

        .avatar {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 3rem;
            height: 3rem;
            border-radius: 50%;
            background-color: var(--secondary-red);
            color: var(--primary-red);
            font-weight: 600;
        }

        /* Grid Layouts */
        .grid-cols-1 { grid-template-columns: repeat(1, minmax(0, 1fr)); }
        .grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
        .grid-cols-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }
        .grid-cols-4 { grid-template-columns: repeat(4, minmax(0, 1fr)); }

        /* Responsive Design */
        @media (min-width: 640px) {
            .sm\:px-6 { padding-left: 1.5rem; padding-right: 1.5rem; }
            .sm\:flex-row { flex-direction: row; }
            .sm\:px-3 { padding-left: 0.75rem; padding-right: 0.75rem; }
        }

        @media (min-width: 768px) {
            .md\:flex { display: flex; }
            .md\:hidden { display: none; }
            .md\:block { display: block; }
            .md\:grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
            .md\:grid-cols-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }
            .md\:grid-cols-4 { grid-template-columns: repeat(4, minmax(0, 1fr)); }
            .md\:flex-row { flex-direction: row; }
            .md\:items-center { align-items: center; }
            .md\:text-2xl { font-size: 1.5rem; }
            .md\:text-6xl { font-size: 3.75rem; }
        }

        @media (min-width: 1024px) {
            .lg\:px-8 { padding-left: 2rem; padding-right: 2rem; }
            .lg\:grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
            .lg\:grid-cols-4 { grid-template-columns: repeat(4, minmax(0, 1fr)); }
        }

        /* Custom Styles */
        .hero-bg {
            background: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), 
                        url('https://images.unsplash.com/photo-1615461066159-fea0960485d5?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxtZWRpY2FsJTIwYmxvb2QlMjBkb25hdGlvbiUyMGhvc3BpdGFsfGVufDF8fHx8MTc1NjcwMDQxNHww&ixlib=rb-4.1.0&q=80&w=1080');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .mobile-menu {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-in-out;
        }

        .mobile-menu.open {
            max-height: 500px;
        }

        .nav-pill {
            padding: 0.5rem 1rem;
            border-radius: 9999px;
            font-size: 0.875rem;
            font-weight: 500;
            border: none;
            cursor: pointer;
            transition: all 0.15s ease-in-out;
            text-decoration: none;
            display: inline-block;
        }

        .nav-pill.active {
            background-color: var(--primary-red);
            color: white;
        }

        .nav-pill:not(.active) {
            background-color: white;
            color: var(--text-gray-600);
            border: 1px solid var(--border-gray-200);
        }

        .nav-pill:not(.active):hover {
            background-color: var(--bg-gray-100);
        }

        .chart-container {
            position: relative;
            height: 300px;
            width: 100%;
        }

        .activity-dot {
            width: 0.5rem;
            height: 0.5rem;
            border-radius: 50%;
            margin-top: 0.5rem;
            flex-shrink: 0;
        }

        .activity-dot.green { background-color: var(--green-500); }
        .activity-dot.red { background-color: var(--primary-red); }
        .activity-dot.blue { background-color: var(--blue-500); }

        .notification-badge {
            position: absolute;
            top: -0.5rem;
            right: -0.5rem;
            background-color: var(--yellow-500);
            color: black;
            font-size: 0.75rem;
            font-weight: 600;
            padding: 0.125rem 0.375rem;
            border-radius: 9999px;
            min-width: 1.25rem;
            text-align: center;
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="bg-red-600 text-white shadow-lg">
        <div class="container">
            <div class="flex justify-between items-center h-16">
                <!-- Logo -->
                <div class="flex items-center space-x-2">
                    <div class="w-8 h-8 bg-white rounded-full flex items-center justify-center">
                        <i data-lucide="heart" class="w-5 h-5 text-red-600"></i>
                    </div>
                    <span class="text-xl font-bold">Lifesaver Portal</span>
                </div>

                <!-- Desktop Navigation -->
                <nav class="hidden md:flex items-center space-x-6">
                    <button onclick="showView('dashboard')" class="hover:text-red-200 transition-colors">Home</button>
                    <button onclick="showView('donate')" class="hover:text-red-200 transition-colors">Donate</button>
                    <button onclick="showView('request')" class="hover:text-red-200 transition-colors">Request</button>
                    <button onclick="showView('search')" class="hover:text-red-200 transition-colors">Find Donors</button>
                    <button onclick="showView('statistics')" class="hover:text-red-200 transition-colors">Statistics</button>
                </nav>

                <!-- User Actions -->
                <div class="hidden md:flex items-center space-x-4">
                    <!-- Notifications -->
                    <div class="relative">
                        <i data-lucide="bell" class="w-6 h-6 hover:text-red-200 cursor-pointer"></i>
                        <span class="notification-badge">3</span>
                    </div>

                    <!-- User Menu -->
                    <div class="relative">
                        <button class="btn btn-ghost text-white flex items-center space-x-2" onclick="toggleUserMenu()">
                            <i data-lucide="user" class="w-5 h-5"></i>
                            <span>John Doe</span>
                            <i data-lucide="chevron-down" class="w-4 h-4"></i>
                        </button>
                        
                        <div id="userMenu" class="hidden absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-10">
                            <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Profile</a>
                            <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Donation History</a>
                            <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Settings</a>
                            <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Logout</a>
                        </div>
                    </div>
                </div>

                <!-- Mobile menu button -->
                <div class="md:hidden">
                    <button onclick="toggleMobileMenu()" class="btn btn-ghost text-white">
                        <i data-lucide="menu" class="w-6 h-6" id="menuIcon"></i>
                        <i data-lucide="x" class="w-6 h-6 hidden" id="closeIcon"></i>
                    </button>
                </div>
            </div>

            <!-- Mobile Navigation -->
            <div id="mobileMenu" class="mobile-menu md:hidden">
                <div class="px-2 pt-2 pb-3 space-y-1 border-t border-red-500 mt-4">
                    <button onclick="showView('dashboard')" class="block w-full text-left px-3 py-2 hover:bg-red-700 rounded-md">Home</button>
                    <button onclick="showView('donate')" class="block w-full text-left px-3 py-2 hover:bg-red-700 rounded-md">Donate</button>
                    <button onclick="showView('request')" class="block w-full text-left px-3 py-2 hover:bg-red-700 rounded-md">Request</button>
                    <button onclick="showView('search')" class="block w-full text-left px-3 py-2 hover:bg-red-700 rounded-md">Find Donors</button>
                    <button onclick="showView('statistics')" class="block w-full text-left px-3 py-2 hover:bg-red-700 rounded-md">Statistics</button>
                    <div class="border-t border-red-500 mt-2 pt-2">
                        <button class="block w-full text-left px-3 py-2 hover:bg-red-700 rounded-md">Profile</button>
                        <button class="block w-full text-left px-3 py-2 hover:bg-red-700 rounded-md">Logout</button>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Navigation Pills -->
    <div id="navPills" class="bg-gray-50 border-b hidden">
        <div class="container py-4">
            <div class="flex flex-wrap gap-2">
                <button onclick="showView('dashboard')" class="nav-pill" data-view="dashboard">Dashboard</button>
                <button onclick="showView('donate')" class="nav-pill" data-view="donate">Donate Blood</button>
                <button onclick="showView('request')" class="nav-pill" data-view="request">Request Blood</button>
                <button onclick="showView('search')" class="nav-pill" data-view="search">Find Donors</button>
                <button onclick="showView('statistics')" class="nav-pill" data-view="statistics">Statistics</button>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main>
        <!-- Dashboard View -->
        <div id="dashboardView" class="view">
            <!-- Hero Section -->
            <section class="hero-bg min-h-600 flex items-center justify-center text-white">
                <div class="container text-center">
                    <h1 class="text-5xl md:text-6xl font-bold mb-6">Save Lives with Every Drop</h1>
                    <p class="text-xl md:text-2xl mb-8 opacity-90">"Every drop you give is a life you save"</p>
                    
                    <!-- Quick Stats -->
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-10">
                        <div class="glass-card rounded-lg p-6">
                            <i data-lucide="users" class="w-8 h-8 mx-auto mb-2"></i>
                            <div class="text-2xl font-bold">2,847</div>
                            <div class="text-sm opacity-80">Active Donors</div>
                        </div>
                        <div class="glass-card rounded-lg p-6">
                            <i data-lucide="heart" class="w-8 h-8 mx-auto mb-2"></i>
                            <div class="text-2xl font-bold">12,456</div>
                            <div class="text-sm opacity-80">Lives Saved</div>
                        </div>
                        <div class="glass-card rounded-lg p-6">
                            <i data-lucide="map-pin" class="w-8 h-8 mx-auto mb-2"></i>
                            <div class="text-2xl font-bold">45</div>
                            <div class="text-sm opacity-80">Collection Centers</div>
                        </div>
                    </div>

                    <!-- Action Buttons -->
                    <div class="flex flex-col sm:flex-row gap-4 justify-center">
                        <button onclick="showView('donate')" class="btn btn-primary btn-lg">
                            <span>Donate Now</span>
                            <i data-lucide="arrow-right" class="w-5 h-5 ml-2"></i>
                        </button>
                        <button onclick="showView('request')" class="btn btn-secondary btn-lg">
                            <span>Request Blood</span>
                            <i data-lucide="heart" class="w-5 h-5 ml-2"></i>
                        </button>
                    </div>
                </div>
            </section>

            <!-- Dashboard Stats -->
            <section class="py-12">
                <div class="container">
                    <!-- Main Stats -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                        <div class="card border-l-4 border-green-500">
                            <div class="card-header pb-2">
                                <div class="flex justify-between items-center">
                                    <h3 class="text-sm text-gray-600">Total Donations</h3>
                                    <i data-lucide="heart" class="w-4 h-4 text-green-600"></i>
                                </div>
                            </div>
                            <div class="card-content">
                                <div class="text-2xl font-bold">2,847</div>
                                <p class="text-xs text-gray-500">+12% from last month</p>
                            </div>
                        </div>

                        <div class="card border-l-4 border-blue-500">
                            <div class="card-header pb-2">
                                <div class="flex justify-between items-center">
                                    <h3 class="text-sm text-gray-600">Active Requests</h3>
                                    <i data-lucide="clock" class="w-4 h-4 text-blue-600"></i>
                                </div>
                            </div>
                            <div class="card-content">
                                <div class="text-2xl font-bold">156</div>
                                <p class="text-xs text-gray-500">23 urgent requests</p>
                            </div>
                        </div>

                        <div class="card border-l-4 border-orange-500">
                            <div class="card-header pb-2">
                                <div class="flex justify-between items-center">
                                    <h3 class="text-sm text-gray-600">Successful Matches</h3>
                                    <i data-lucide="check-circle" class="w-4 h-4 text-orange-600"></i>
                                </div>
                            </div>
                            <div class="card-content">
                                <div class="text-2xl font-bold">94.5%</div>
                                <p class="text-xs text-gray-500">Success rate this month</p>
                            </div>
                        </div>

                        <div class="card border-l-4 border-red-500">
                            <div class="card-header pb-2">
                                <div class="flex justify-between items-center">
                                    <h3 class="text-sm text-gray-600">Critical Levels</h3>
                                    <i data-lucide="alert-triangle" class="w-4 h-4 text-red-600"></i>
                                </div>
                            </div>
                            <div class="card-content">
                                <div class="text-2xl font-bold">4</div>
                                <p class="text-xs text-gray-500">Blood types below 30%</p>
                            </div>
                        </div>
                    </div>

                    <!-- Blood Inventory & Activity -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                        <!-- Blood Inventory -->
                        <div class="card">
                            <div class="card-header">
                                <h2 class="card-title flex items-center gap-2">
                                    <i data-lucide="trending-up" class="w-5 h-5"></i>
                                    Blood Type Inventory
                                </h2>
                            </div>
                            <div class="card-content">
                                <div id="bloodInventory" class="space-y-4">
                                    <!-- Will be populated by JavaScript -->
                                </div>
                            </div>
                        </div>

                        <!-- Recent Activity & Quick Actions -->
                        <div class="space-y-6">
                            <!-- Recent Activity -->
                            <div class="card">
                                <div class="card-header">
                                    <h2 class="card-title flex items-center gap-2">
                                        <i data-lucide="calendar" class="w-5 h-5"></i>
                                        Recent Activity
                                    </h2>
                                </div>
                                <div class="card-content">
                                    <div class="space-y-4">
                                        <div class="flex items-start space-x-3">
                                            <div class="activity-dot green"></div>
                                            <div class="flex-1">
                                                <p class="text-sm">New donation scheduled</p>
                                                <p class="text-xs text-gray-500">Sarah M. - O+ - 2 hours ago</p>
                                            </div>
                                        </div>
                                        <div class="flex items-start space-x-3">
                                            <div class="activity-dot red"></div>
                                            <div class="flex-1">
                                                <p class="text-sm">Urgent request submitted</p>
                                                <p class="text-xs text-gray-500">City Hospital - AB- - 4 hours ago</p>
                                            </div>
                                        </div>
                                        <div class="flex items-start space-x-3">
                                            <div class="activity-dot blue"></div>
                                            <div class="flex-1">
                                                <p class="text-sm">Donor match found</p>
                                                <p class="text-xs text-gray-500">John D. matched with Request #1245 - 6 hours ago</p>
                                            </div>
                                        </div>
                                        <div class="flex items-start space-x-3">
                                            <div class="activity-dot green"></div>
                                            <div class="flex-1">
                                                <p class="text-sm">Donation completed</p>
                                                <p class="text-xs text-gray-500">Mike R. - A+ - 8 hours ago</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Quick Actions -->
                            <div class="card">
                                <div class="card-header">
                                    <h2 class="card-title">Quick Actions</h2>
                                </div>
                                <div class="card-content">
                                    <div class="grid grid-cols-2 gap-3">
                                        <button onclick="showView('search')" class="p-3 text-left border rounded-lg hover:bg-gray-50 transition-colors">
                                            <i data-lucide="users" class="w-5 h-5 mb-2 text-blue-600"></i>
                                            <div class="text-sm font-medium">Find Donors</div>
                                            <div class="text-xs text-gray-500">Search nearby</div>
                                        </button>
                                        <button onclick="showView('request')" class="p-3 text-left border rounded-lg hover:bg-gray-50 transition-colors">
                                            <i data-lucide="heart" class="w-5 h-5 mb-2 text-red-600"></i>
                                            <div class="text-sm font-medium">New Request</div>
                                            <div class="text-xs text-gray-500">Submit urgent</div>
                                        </button>
                                        <button class="p-3 text-left border rounded-lg hover:bg-gray-50 transition-colors">
                                            <i data-lucide="map-pin" class="w-5 h-5 mb-2 text-green-600"></i>
                                            <div class="text-sm font-medium">Locations</div>
                                            <div class="text-xs text-gray-500">Find centers</div>
                                        </button>
                                        <button class="p-3 text-left border rounded-lg hover:bg-gray-50 transition-colors">
                                            <i data-lucide="calendar" class="w-5 h-5 mb-2 text-purple-600"></i>
                                            <div class="text-sm font-medium">Schedule</div>
                                            <div class="text-xs text-gray-500">Book appointment</div>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Services Section -->
            <section class="bg-gray-50 py-16">
                <div class="container">
                    <!-- Section Header -->
                    <div class="text-center mb-12">
                        <h2 class="text-3xl font-bold text-gray-900 mb-4">Our Services</h2>
                        <p class="text-xl text-gray-600 max-w-3xl mx-auto">
                            Comprehensive blood donation and request management system designed to save lives efficiently
                        </p>
                    </div>

                    <!-- Services Grid -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-16">
                        <div class="card border-red-200 hover:shadow-lg transition-all hover:-translate-y-1">
                            <div class="card-header text-center">
                                <div class="w-12 h-12 rounded-full bg-red-50 text-red-600 flex items-center justify-center mx-auto mb-4">
                                    <i data-lucide="heart" class="w-6 h-6"></i>
                                </div>
                                <h3 class="text-xl mb-2 font-semibold">Donate Blood</h3>
                            </div>
                            <div class="card-content text-center space-y-4">
                                <p class="text-gray-600 text-sm leading-relaxed">
                                    Register your availability and help someone in need. Quick, safe, and life-saving.
                                </p>
                                
                                <div class="space-y-2">
                                    <div class="flex items-center text-xs text-gray-500">
                                        <div class="w-1.5 h-1.5 bg-gray-400 rounded-full mr-2"></div>
                                        Quick registration
                                    </div>
                                    <div class="flex items-center text-xs text-gray-500">
                                        <div class="w-1.5 h-1.5 bg-gray-400 rounded-full mr-2"></div>
                                        Health screening
                                    </div>
                                    <div class="flex items-center text-xs text-gray-500">
                                        <div class="w-1.5 h-1.5 bg-gray-400 rounded-full mr-2"></div>
                                        Safe donation process
                                    </div>
                                </div>

                                <button onclick="showView('donate')" class="btn btn-primary w-full">
                                    <span>Donate Now</span>
                                    <i data-lucide="arrow-right" class="w-4 h-4 ml-2"></i>
                                </button>
                            </div>
                        </div>

                        <div class="card border-blue-200 hover:shadow-lg transition-all hover:-translate-y-1">
                            <div class="card-header text-center">
                                <div class="w-12 h-12 rounded-full bg-blue-50 text-blue-600 flex items-center justify-center mx-auto mb-4">
                                    <i data-lucide="clock" class="w-6 h-6"></i>
                                </div>
                                <h3 class="text-xl mb-2 font-semibold">Request Blood</h3>
                            </div>
                            <div class="card-content text-center space-y-4">
                                <p class="text-gray-600 text-sm leading-relaxed">
                                    Submit a blood request for emergencies and urgent needs. Fast matching system.
                                </p>
                                
                                <div class="space-y-2">
                                    <div class="flex items-center text-xs text-gray-500">
                                        <div class="w-1.5 h-1.5 bg-gray-400 rounded-full mr-2"></div>
                                        Emergency priority
                                    </div>
                                    <div class="flex items-center text-xs text-gray-500">
                                        <div class="w-1.5 h-1.5 bg-gray-400 rounded-full mr-2"></div>
                                        Real-time matching
                                    </div>
                                    <div class="flex items-center text-xs text-gray-500">
                                        <div class="w-1.5 h-1.5 bg-gray-400 rounded-full mr-2"></div>
                                        24/7 support
                                    </div>
                                </div>

                                <button onclick="showView('request')" class="btn w-full" style="background-color: var(--blue-600); color: white;">
                                    <span>Request Now</span>
                                    <i data-lucide="arrow-right" class="w-4 h-4 ml-2"></i>
                                </button>
                            </div>
                        </div>

                        <div class="card border-green-200 hover:shadow-lg transition-all hover:-translate-y-1">
                            <div class="card-header text-center">
                                <div class="w-12 h-12 rounded-full bg-green-50 text-green-600 flex items-center justify-center mx-auto mb-4">
                                    <i data-lucide="users" class="w-6 h-6"></i>
                                </div>
                                <h3 class="text-xl mb-2 font-semibold">Find Donors</h3>
                            </div>
                            <div class="card-content text-center space-y-4">
                                <p class="text-gray-600 text-sm leading-relaxed">
                                    Search for compatible donors in your city or region with advanced filters.
                                </p>
                                
                                <div class="space-y-2">
                                    <div class="flex items-center text-xs text-gray-500">
                                        <div class="w-1.5 h-1.5 bg-gray-400 rounded-full mr-2"></div>
                                        Location-based search
                                    </div>
                                    <div class="flex items-center text-xs text-gray-500">
                                        <div class="w-1.5 h-1.5 bg-gray-400 rounded-full mr-2"></div>
                                        Blood type filtering
                                    </div>
                                    <div class="flex items-center text-xs text-gray-500">
                                        <div class="w-1.5 h-1.5 bg-gray-400 rounded-full mr-2"></div>
                                        Availability status
                                    </div>
                                </div>

                                <button onclick="showView('search')" class="btn w-full" style="background-color: var(--green-600); color: white;">
                                    <span>Find Now</span>
                                    <i data-lucide="arrow-right" class="w-4 h-4 ml-2"></i>
                                </button>
                            </div>
                        </div>

                        <div class="card border-purple-200 hover:shadow-lg transition-all hover:-translate-y-1">
                            <div class="card-header text-center">
                                <div class="w-12 h-12 rounded-full bg-purple-50 text-purple-600 flex items-center justify-center mx-auto mb-4">
                                    <i data-lucide="bar-chart-3" class="w-6 h-6"></i>
                                </div>
                                <h3 class="text-xl mb-2 font-semibold">Statistics</h3>
                            </div>
                            <div class="card-content text-center space-y-4">
                                <p class="text-gray-600 text-sm leading-relaxed">
                                    View donation trends, urgent needs, and availability across regions.
                                </p>
                                
                                <div class="space-y-2">
                                    <div class="flex items-center text-xs text-gray-500">
                                        <div class="w-1.5 h-1.5 bg-gray-400 rounded-full mr-2"></div>
                                        Real-time data
                                    </div>
                                    <div class="flex items-center text-xs text-gray-500">
                                        <div class="w-1.5 h-1.5 bg-gray-400 rounded-full mr-2"></div>
                                        Trend analysis
                                    </div>
                                    <div class="flex items-center text-xs text-gray-500">
                                        <div class="w-1.5 h-1.5 bg-gray-400 rounded-full mr-2"></div>
                                        Regional insights
                                    </div>
                                </div>

                                <button onclick="showView('statistics')" class="btn w-full" style="background-color: var(--purple-500); color: white;">
                                    <span>View Stats</span>
                                    <i data-lucide="arrow-right" class="w-4 h-4 ml-2"></i>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Features -->
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                        <div class="text-center">
                            <div class="w-16 h-16 bg-white rounded-full shadow-md flex items-center justify-center mx-auto mb-4">
                                <i data-lucide="shield" class="w-8 h-8 text-red-600"></i>
                            </div>
                            <h3 class="text-lg font-semibold text-gray-900 mb-2">Safe & Secure</h3>
                            <p class="text-gray-600">All donations follow strict medical protocols and safety standards.</p>
                        </div>

                        <div class="text-center">
                            <div class="w-16 h-16 bg-white rounded-full shadow-md flex items-center justify-center mx-auto mb-4">
                                <i data-lucide="zap" class="w-8 h-8 text-red-600"></i>
                            </div>
                            <h3 class="text-lg font-semibold text-gray-900 mb-2">Fast Matching</h3>
                            <p class="text-gray-600">Advanced algorithm for quick donor-recipient matching in emergencies.</p>
                        </div>

                        <div class="text-center">
                            <div class="w-16 h-16 bg-white rounded-full shadow-md flex items-center justify-center mx-auto mb-4">
                                <i data-lucide="map-pin" class="w-8 h-8 text-red-600"></i>
                            </div>
                            <h3 class="text-lg font-semibold text-gray-900 mb-2">Nationwide Network</h3>
                            <p class="text-gray-600">Connected with blood banks and hospitals across the country.</p>
                        </div>
                    </div>

                    <!-- Call to Action -->
                    <div class="text-center mt-16">
                        <div class="card shadow-lg p-8 max-w-2xl mx-auto">
                            <h3 class="text-2xl font-bold text-gray-900 mb-4">Ready to Save Lives?</h3>
                            <p class="text-gray-600 mb-6">
                                Join our community of life-savers. Every donation counts, every request matters.
                            </p>
                            <div class="flex flex-col sm:flex-row gap-4 justify-center">
                                <button onclick="showView('donate')" class="btn btn-primary btn-lg">Become a Donor</button>
                                <button class="btn btn-secondary btn-lg">Learn More</button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Request Blood View -->
        <div id="requestView" class="view hidden">
            <div class="container py-8">
                <div class="max-w-4xl mx-auto">
                    <div class="card shadow-lg">
                        <div class="bg-red-50 border-b p-6">
                            <h1 class="text-2xl font-bold text-red-700 flex items-center gap-3">
                                <i data-lucide="heart" class="w-6 h-6"></i>
                                Submit Blood Request
                            </h1>
                            <p class="text-gray-600 mt-2">
                                Fill out this form to request blood for a patient in need. All fields marked with * are required.
                            </p>
                        </div>
                        
                        <div class="p-6">
                            <form id="bloodRequestForm" class="space-y-6">
                                <!-- Patient Information -->
                                <div class="space-y-4">
                                    <h3 class="text-lg font-semibold flex items-center gap-2">
                                        <i data-lucide="user" class="w-5 h-5"></i>
                                        Patient Information
                                    </h3>
                                    
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                        <div class="form-group">
                                            <label class="form-label" for="patientName">Patient Name *</label>
                                            <input class="form-input" id="patientName" type="text" placeholder="Enter patient's full name" required>
                                        </div>
                                        
                                        <div class="form-group">
                                            <label class="form-label" for="bloodType">Blood Type *</label>
                                            <select class="form-select" id="bloodType" required>
                                                <option value="">Select blood type</option>
                                                <option value="A+">A+</option>
                                                <option value="A-">A-</option>
                                                <option value="B+">B+</option>
                                                <option value="B-">B-</option>
                                                <option value="AB+">AB+</option>
                                                <option value="AB-">AB-</option>
                                                <option value="O+">O+</option>
                                                <option value="O-">O-</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                        <div class="form-group">
                                            <label class="form-label" for="unitsNeeded">Units Needed *</label>
                                            <input class="form-input" id="unitsNeeded" type="number" min="1" max="20" placeholder="Number of units" required>
                                        </div>
                                        
                                        <div class="form-group">
                                            <label class="form-label" for="urgency">Urgency Level *</label>
                                            <select class="form-select" id="urgency" required onchange="handleUrgencyChange()">
                                                <option value="">Select urgency</option>
                                                <option value="critical">Critical (1-6 hours)</option>
                                                <option value="urgent">Urgent (6-24 hours)</option>
                                                <option value="normal">Normal (1-3 days)</option>
                                            </select>
                                            <div id="urgencyWarning" class="hidden flex items-center gap-2 mt-2 text-red-600 text-sm">
                                                <i data-lucide="alert-triangle" class="w-4 h-4"></i>
                                                Critical requests are processed immediately
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Hospital Information -->
                                <div class="space-y-4">
                                    <h3 class="text-lg font-semibold flex items-center gap-2">
                                        <i data-lucide="map-pin" class="w-5 h-5"></i>
                                        Hospital Information
                                    </h3>
                                    
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                        <div class="form-group">
                                            <label class="form-label" for="hospital">Hospital/Medical Center *</label>
                                            <input class="form-input" id="hospital" type="text" placeholder="Enter hospital name" required>
                                        </div>
                                        
                                        <div class="form-group">
                                            <label class="form-label" for="location">Location/Address *</label>
                                            <input class="form-input" id="location" type="text" placeholder="City, State" required>
                                        </div>
                                    </div>
                                </div>

                                <!-- Contact Information -->
                                <div class="space-y-4">
                                    <h3 class="text-lg font-semibold flex items-center gap-2">
                                        <i data-lucide="phone" class="w-5 h-5"></i>
                                        Contact Information
                                    </h3>
                                    
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                        <div class="form-group">
                                            <label class="form-label" for="contactName">Contact Person *</label>
                                            <input class="form-input" id="contactName" type="text" placeholder="Doctor/Relative name" required>
                                        </div>
                                        
                                        <div class="form-group">
                                            <label class="form-label" for="contactPhone">Contact Phone *</label>
                                            <input class="form-input" id="contactPhone" type="tel" placeholder="Phone number" required>
                                        </div>
                                    </div>
                                </div>

                                <!-- Additional Details -->
                                <div class="space-y-4">
                                    <h3 class="text-lg font-semibold">Additional Details</h3>
                                    
                                    <div class="form-group">
                                        <label class="form-label" for="reason">Reason for Blood Need</label>
                                        <select class="form-select" id="reason">
                                            <option value="">Select reason</option>
                                            <option value="surgery">Surgery</option>
                                            <option value="accident">Accident/Trauma</option>
                                            <option value="cancer">Cancer Treatment</option>
                                            <option value="pregnancy">Pregnancy Complications</option>
                                            <option value="chronic">Chronic Condition</option>
                                            <option value="other">Other</option>
                                        </select>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="form-label" for="additionalNotes">Additional Notes</label>
                                        <textarea class="form-textarea" id="additionalNotes" placeholder="Any special requirements or additional information" rows="3"></textarea>
                                    </div>
                                </div>

                                <!-- Submit Button -->
                                <div class="flex flex-col gap-4 pt-6 border-t">
                                    <div class="flex items-center justify-between">
                                        <div class="text-sm text-gray-600">* Required fields</div>
                                        <div id="urgencyBadge" class="hidden">
                                            <!-- Will be populated by JavaScript -->
                                        </div>
                                    </div>
                                    
                                    <button type="submit" class="btn btn-primary btn-lg w-full">
                                        <span>Submit Blood Request</span>
                                        <i data-lucide="heart" class="w-5 h-5 ml-2"></i>
                                    </button>
                                    
                                    <p class="text-xs text-gray-500 text-center">
                                        By submitting this request, you agree to our terms and conditions. 
                                        All information will be kept confidential and used only for matching purposes.
                                    </p>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Find Donors View -->
        <div id="searchView" class="view hidden">
            <div class="container py-8">
                <!-- Search Header -->
                <div class="text-center mb-8">
                    <h1 class="text-3xl font-bold text-gray-900 mb-4">Find Blood Donors</h1>
                    <p class="text-xl text-gray-600">Search for compatible donors in your area</p>
                </div>

                <!-- Search Filters -->
                <div class="card mb-8">
                    <div class="card-header">
                        <h2 class="card-title flex items-center gap-2">
                            <i data-lucide="filter" class="w-5 h-5"></i>
                            Search Filters
                        </h2>
                    </div>
                    <div class="card-content">
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                            <div class="form-group">
                                <label class="form-label" for="searchBloodType">Blood Type *</label>
                                <select class="form-select" id="searchBloodType">
                                    <option value="">Select blood type</option>
                                    <option value="A+">A+</option>
                                    <option value="A-">A-</option>
                                    <option value="B+">B+</option>
                                    <option value="B-">B-</option>
                                    <option value="AB+">AB+</option>
                                    <option value="AB-">AB-</option>
                                    <option value="O+">O+</option>
                                    <option value="O-">O-</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label class="form-label" for="searchLocation">Location</label>
                                <input class="form-input" id="searchLocation" type="text" placeholder="City or ZIP code">
                            </div>

                            <div class="form-group">
                                <label class="form-label" for="maxDistance">Max Distance (km)</label>
                                <select class="form-select" id="maxDistance">
                                    <option value="5">5 km</option>
                                    <option value="10" selected>10 km</option>
                                    <option value="25">25 km</option>
                                    <option value="50">50 km</option>
                                    <option value="100">100 km</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label class="form-label" for="availability">Availability</label>
                                <select class="form-select" id="availability">
                                    <option value="all">All Donors</option>
                                    <option value="available">Available Now</option>
                                    <option value="verified">Verified Only</option>
                                </select>
                            </div>
                        </div>

                        <div class="flex flex-col sm:flex-row gap-4 mt-6">
                            <button id="searchBtn" onclick="searchDonors()" class="btn btn-primary">
                                <i data-lucide="search" class="w-4 h-4 mr-2"></i>
                                <span>Search Donors</span>
                            </button>
                            <button onclick="clearFilters()" class="btn btn-secondary">Clear Filters</button>
                        </div>
                    </div>
                </div>

                <!-- Search Results -->
                <div class="space-y-4">
                    <div class="flex items-center justify-between">
                        <h2 class="text-xl font-semibold">
                            Search Results (<span id="resultCount">0</span> donors found)
                        </h2>
                        <div class="flex items-center gap-2 text-sm text-gray-600">
                            <i data-lucide="users" class="w-4 h-4"></i>
                            <span id="searchCriteria">Showing all donors</span>
                        </div>
                    </div>

                    <div id="donorResults" class="space-y-4">
                        <!-- Results will be populated by JavaScript -->
                    </div>

                    <div id="noResults" class="text-center py-12 hidden">
                        <i data-lucide="users" class="w-12 h-12 text-gray-400 mx-auto mb-4"></i>
                        <h3 class="text-lg font-semibold text-gray-900 mb-2">No donors found</h3>
                        <p class="text-gray-600">
                            Try adjusting your search criteria or expanding the search radius.
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Statistics View -->
        <div id="statisticsView" class="view hidden">
            <div class="container py-12 space-y-8">
                <!-- Header -->
                <div class="text-center">
                    <h1 class="text-3xl font-bold text-gray-900 mb-4">Statistics & Analytics</h1>
                    <p class="text-xl text-gray-600">
                        Real-time insights into blood donation and request patterns
                    </p>
                </div>

                <!-- Key Metrics -->
                <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
                    <div class="card border-l-4 border-blue-500">
                        <div class="card-header pb-2">
                            <h3 class="text-sm text-gray-600">Monthly Growth</h3>
                        </div>
                        <div class="card-content">
                            <div class="flex items-center justify-between">
                                <div>
                                    <div class="text-2xl font-bold">+15.2%</div>
                                    <div class="text-xs text-gray-500">vs last month</div>
                                </div>
                                <i data-lucide="trending-up" class="w-8 h-8 text-blue-500"></i>
                            </div>
                        </div>
                    </div>

                    <div class="card border-l-4 border-green-500">
                        <div class="card-header pb-2">
                            <h3 class="text-sm text-gray-600">Success Rate</h3>
                        </div>
                        <div class="card-content">
                            <div class="flex items-center justify-between">
                                <div>
                                    <div class="text-2xl font-bold">94.8%</div>
                                    <div class="text-xs text-gray-500">this week</div>
                                </div>
                                <i data-lucide="heart" class="w-8 h-8 text-green-500"></i>
                            </div>
                        </div>
                    </div>

                    <div class="card border-l-4 border-orange-500">
                        <div class="card-header pb-2">
                            <h3 class="text-sm text-gray-600">New Donors</h3>
                        </div>
                        <div class="card-content">
                            <div class="flex items-center justify-between">
                                <div>
                                    <div class="text-2xl font-bold">127</div>
                                    <div class="text-xs text-gray-500">this month</div>
                                </div>
                                <i data-lucide="users" class="w-8 h-8 text-orange-500"></i>
                            </div>
                        </div>
                    </div>

                    <div class="card border-l-4 border-purple-500">
                        <div class="card-header pb-2">
                            <h3 class="text-sm text-gray-600">Avg Response Time</h3>
                        </div>
                        <div class="card-content">
                            <div class="flex items-center justify-between">
                                <div>
                                    <div class="text-2xl font-bold">2.3h</div>
                                    <div class="text-xs text-gray-500">for urgent requests</div>
                                </div>
                                <i data-lucide="calendar" class="w-8 h-8 text-purple-500"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Charts Grid -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Monthly Donations Chart -->
                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title">Monthly Donations vs Requests</h2>
                            <p class="text-sm text-gray-600">Tracking supply and demand patterns</p>
                        </div>
                        <div class="card-content">
                            <div class="chart-container">
                                <canvas id="monthlyChart"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- Blood Type Distribution -->
                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title">Blood Type Distribution</h2>
                            <p class="text-sm text-gray-600">Current donor distribution by blood type</p>
                        </div>
                        <div class="card-content">
                            <div class="chart-container">
                                <canvas id="bloodTypeChart"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- Weekly Activity -->
                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title">Weekly Request Status</h2>
                            <p class="text-sm text-gray-600">Request outcomes by day of the week</p>
                        </div>
                        <div class="card-content">
                            <div class="chart-container">
                                <canvas id="weeklyChart"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- Urgency Levels -->
                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title">Request Urgency by Time of Day</h2>
                            <p class="text-sm text-gray-600">When urgent requests are most common</p>
                        </div>
                        <div class="card-content">
                            <div class="chart-container">
                                <canvas id="urgencyChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Additional Insights -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="card">
                        <div class="card-header">
                            <h3 class="text-lg font-semibold">Top Performing Regions</h3>
                        </div>
                        <div class="card-content">
                            <div class="space-y-3">
                                <div class="flex items-center justify-between">
                                    <div>
                                        <div class="font-medium">Downtown</div>
                                        <div class="text-sm text-gray-500">245 donations</div>
                                    </div>
                                    <span class="badge badge-success text-green-700 bg-green-100">+12%</span>
                                </div>
                                <div class="flex items-center justify-between">
                                    <div>
                                        <div class="font-medium">Midtown</div>
                                        <div class="text-sm text-gray-500">198 donations</div>
                                    </div>
                                    <span class="badge badge-success text-green-700 bg-green-100">+8%</span>
                                </div>
                                <div class="flex items-center justify-between">
                                    <div>
                                        <div class="font-medium">Suburbs</div>
                                        <div class="text-sm text-gray-500">167 donations</div>
                                    </div>
                                    <span class="badge badge-success text-green-700 bg-green-100">+15%</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h3 class="text-lg font-semibold">Critical Shortages</h3>
                        </div>
                        <div class="card-content">
                            <div class="space-y-3">
                                <div class="flex items-center justify-between">
                                    <div>
                                        <div class="font-medium">AB-</div>
                                        <div class="text-sm text-gray-500">12% available</div>
                                    </div>
                                    <span class="badge badge-danger">Critical</span>
                                </div>
                                <div class="flex items-center justify-between">
                                    <div>
                                        <div class="font-medium">B-</div>
                                        <div class="text-sm text-gray-500">18% available</div>
                                    </div>
                                    <span class="badge">Low</span>
                                </div>
                                <div class="flex items-center justify-between">
                                    <div>
                                        <div class="font-medium">A-</div>
                                        <div class="text-sm text-gray-500">25% available</div>
                                    </div>
                                    <span class="badge">Low</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h3 class="text-lg font-semibold">Recent Milestones</h3>
                        </div>
                        <div class="card-content">
                            <div class="space-y-3">
                                <div class="border-l-2 border-red-200 pl-3">
                                    <div class="font-medium text-sm">10,000th Life Saved</div>
                                    <div class="text-xs text-gray-500">2 days ago</div>
                                </div>
                                <div class="border-l-2 border-red-200 pl-3">
                                    <div class="font-medium text-sm">5,000 Active Donors</div>
                                    <div class="text-xs text-gray-500">1 week ago</div>
                                </div>
                                <div class="border-l-2 border-red-200 pl-3">
                                    <div class="font-medium text-sm">99% Success Rate</div>
                                    <div class="text-xs text-gray-500">2 weeks ago</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Donate Blood View -->
        <div id="donateView" class="view hidden">
            <div class="container py-16 text-center">
                <h1 class="text-3xl font-bold text-gray-900 mb-4">Donate Blood</h1>
                <p class="text-xl text-gray-600 mb-8">
                    Thank you for choosing to be a life-saver. The donation form will be available soon.
                </p>
                <button onclick="showView('dashboard')" class="text-red-600 hover:text-red-700 underline">
                    Return to Dashboard
                </button>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-12">
        <div class="container">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div>
                    <div class="flex items-center space-x-2 mb-4">
                        <div class="w-8 h-8 bg-red-600 rounded-full flex items-center justify-center">
                            <span class="text-white font-bold">L</span>
                        </div>
                        <span class="text-xl font-bold">Lifesaver Portal</span>
                    </div>
                    <p class="text-gray-400">
                        Connecting donors with those in need. Every drop counts, every life matters.
                    </p>
                </div>
                
                <div>
                    <h3 class="font-semibold mb-4">Quick Links</h3>
                    <ul class="space-y-2 text-gray-400">
                        <li><a href="#" class="hover:text-white">How to Donate</a></li>
                        <li><a href="#" class="hover:text-white">Eligibility</a></li>
                        <li><a href="#" class="hover:text-white">Locations</a></li>
                        <li><a href="#" class="hover:text-white">FAQ</a></li>
                    </ul>
                </div>
                
                <div>
                    <h3 class="font-semibold mb-4">Support</h3>
                    <ul class="space-y-2 text-gray-400">
                        <li><a href="#" class="hover:text-white">Contact Us</a></li>
                        <li><a href="#" class="hover:text-white">Emergency</a></li>
                        <li><a href="#" class="hover:text-white">Help Center</a></li>
                        <li><a href="#" class="hover:text-white">Privacy Policy</a></li>
                    </ul>
                </div>
                
                <div>
                    <h3 class="font-semibold mb-4">Emergency</h3>
                    <p class="text-gray-400 mb-2">24/7 Blood Request Hotline</p>
                    <p class="text-xl font-bold text-red-400">1-800-BLOOD-HELP</p>
                    <p class="text-sm text-gray-400 mt-2">
                        For urgent blood requirements
                    </p>
                </div>
            </div>
            
            <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
                <p>&copy; 2025 Lifesaver Portal. All rights reserved. Saving lives, one drop at a time.</p>
            </div>
        </div>
    </footer>

    <!-- Toast Notification -->
    <div id="toast" class="fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 hidden">
        <div class="flex items-center space-x-2">
            <i data-lucide="check-circle" class="w-5 h-5"></i>
            <span id="toastMessage">Success!</span>
        </div>
    </div>

    <script>
        // Initialize Lucide icons
        lucide.createIcons();

        // Global state
        let currentView = 'dashboard';
        let charts = {};

        // Mock data
        const bloodTypes = [
            { type: 'O+', available: 45, needed: 60, percentage: 75 },
            { type: 'A+', available: 32, needed: 40, percentage: 80 },
            { type: 'B+', available: 18, needed: 30, percentage: 60 },
            { type: 'AB+', available: 8, needed: 15, percentage: 53 },
            { type: 'O-', available: 12, needed: 25, percentage: 48 },
            { type: 'A-', available: 7, needed: 20, percentage: 35 },
            { type: 'B-', available: 5, needed: 18, percentage: 28 },
            { type: 'AB-', available: 3, needed: 12, percentage: 25 },
        ];

        const mockDonors = [
            {
                id: 1,
                name: 'Sarah Johnson',
                bloodType: 'O+',
                location: 'Downtown Medical Center, 2.5 km',
                phone: '+1 (555) 123-4567',
                availability: 'Available',
                lastDonation: '3 months ago',
                totalDonations: 12,
                rating: 4.9,
                verified: true
            },
            {
                id: 2,
                name: 'Michael Chen',
                bloodType: 'O+',
                location: 'City Hospital, 4.1 km',
                phone: '+1 (555) 234-5678',
                availability: 'Available',
                lastDonation: '2 months ago',
                totalDonations: 8,
                rating: 4.8,
                verified: true
            },
            {
                id: 3,
                name: 'Emily Davis',
                bloodType: 'O+',
                location: 'General Hospital, 6.2 km',
                phone: '+1 (555) 345-6789',
                availability: 'Busy until tomorrow',
                lastDonation: '1 month ago',
                totalDonations: 15,
                rating: 5.0,
                verified: true
            },
            {
                id: 4,
                name: 'David Wilson',
                bloodType: 'O+',
                location: 'Community Health Center, 7.8 km',
                phone: '+1 (555) 456-7890',
                availability: 'Available',
                lastDonation: '4 months ago',
                totalDonations: 6,
                rating: 4.7,
                verified: false
            }
        ];

        // Navigation functions
        function showView(viewName) {
            // Hide all views
            document.querySelectorAll('.view').forEach(view => {
                view.classList.add('hidden');
            });
            
            // Show selected view
            document.getElementById(viewName + 'View').classList.remove('hidden');
            
            // Update current view
            currentView = viewName;
            
            // Show/hide navigation pills
            const navPills = document.getElementById('navPills');
            if (viewName === 'dashboard') {
                navPills.classList.add('hidden');
            } else {
                navPills.classList.remove('hidden');
                // Update active pill
                document.querySelectorAll('.nav-pill').forEach(pill => {
                    pill.classList.remove('active');
                    if (pill.dataset.view === viewName) {
                        pill.classList.add('active');
                    }
                });
            }

            // Initialize view-specific content
            if (viewName === 'dashboard') {
                renderBloodInventory();
            } else if (viewName === 'statistics') {
                setTimeout(initializeCharts, 100); // Allow DOM to update
            } else if (viewName === 'search') {
                renderDonorResults(mockDonors);
            }

            // Close mobile menu
            closeMobileMenu();
        }

        function toggleMobileMenu() {
            const mobileMenu = document.getElementById('mobileMenu');
            const menuIcon = document.getElementById('menuIcon');
            const closeIcon = document.getElementById('closeIcon');
            
            mobileMenu.classList.toggle('open');
            menuIcon.classList.toggle('hidden');
            closeIcon.classList.toggle('hidden');
        }

        function closeMobileMenu() {
            const mobileMenu = document.getElementById('mobileMenu');
            const menuIcon = document.getElementById('menuIcon');
            const closeIcon = document.getElementById('closeIcon');
            
            mobileMenu.classList.remove('open');
            menuIcon.classList.remove('hidden');
            closeIcon.classList.add('hidden');
        }

        function toggleUserMenu() {
            const userMenu = document.getElementById('userMenu');
            userMenu.classList.toggle('hidden');
        }

        // Blood inventory rendering
        function renderBloodInventory() {
            const container = document.getElementById('bloodInventory');
            if (!container) return;

            container.innerHTML = bloodTypes.map(blood => {
                const colorClass = blood.percentage < 30 ? 'danger' : 
                                 blood.percentage < 60 ? 'warning' : '';
                const badgeClass = blood.percentage < 30 ? 'badge-danger' : 
                                  blood.percentage < 60 ? 'badge-warning' : 'badge-success';
                
                return `
                    <div class="space-y-2">
                        <div class="flex justify-between items-center">
                            <div class="flex items-center gap-2">
                                <span class="badge badge-outline font-mono">${blood.type}</span>
                                <span class="text-sm text-gray-500">${blood.available} / ${blood.needed} units</span>
                            </div>
                            <span class="badge ${badgeClass}">${blood.percentage}%</span>
                        </div>
                        <div class="progress">
                            <div class="progress-bar ${colorClass}" style="width: ${blood.percentage}%"></div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        // Request form functions
        function handleUrgencyChange() {
            const urgency = document.getElementById('urgency').value;
            const warning = document.getElementById('urgencyWarning');
            const badge = document.getElementById('urgencyBadge');
            
            if (urgency === 'critical') {
                warning.classList.remove('hidden');
                badge.innerHTML = '<span class="badge badge-danger">Critical (1-6 hours)</span>';
                badge.classList.remove('hidden');
            } else {
                warning.classList.add('hidden');
                if (urgency === 'urgent') {
                    badge.innerHTML = '<span class="badge badge-warning">Urgent (6-24 hours)</span>';
                    badge.classList.remove('hidden');
                } else if (urgency === 'normal') {
                    badge.innerHTML = '<span class="badge">Normal (1-3 days)</span>';
                    badge.classList.remove('hidden');
                } else {
                    badge.classList.add('hidden');
                }
            }
        }

        // Toast notification
        function showToast(message, type = 'success') {
            const toast = document.getElementById('toast');
            const toastMessage = document.getElementById('toastMessage');
            
            toastMessage.textContent = message;
            
            if (type === 'success') {
                toast.className = 'fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50';
            } else if (type === 'error') {
                toast.className = 'fixed top-4 right-4 bg-red-500 text-white px-6 py-3 rounded-lg shadow-lg z-50';
            }
            
            toast.classList.remove('hidden');
            
            setTimeout(() => {
                toast.classList.add('hidden');
            }, 3000);
        }

        // Donor search functions
        function searchDonors() {
            const bloodType = document.getElementById('searchBloodType').value;
            const location = document.getElementById('searchLocation').value;
            const searchBtn = document.getElementById('searchBtn');
            
            if (!bloodType) {
                showToast('Please select a blood type', 'error');
                return;
            }

            // Show loading state
            searchBtn.innerHTML = '<span>Searching...</span>';
            searchBtn.disabled = true;

            // Simulate API call
            setTimeout(() => {
                const filteredDonors = mockDonors.filter(donor => 
                    donor.bloodType === bloodType
                );
                
                renderDonorResults(filteredDonors);
                
                // Update search criteria display
                document.getElementById('searchCriteria').textContent = `Showing donors for ${bloodType}`;
                
                // Reset button
                searchBtn.innerHTML = '<i data-lucide="search" class="w-4 h-4 mr-2"></i><span>Search Donors</span>';
                searchBtn.disabled = false;
                lucide.createIcons();
            }, 1000);
        }

        function clearFilters() {
            document.getElementById('searchBloodType').value = '';
            document.getElementById('searchLocation').value = '';
            document.getElementById('maxDistance').value = '10';
            document.getElementById('availability').value = 'all';
            
            renderDonorResults(mockDonors);
            document.getElementById('searchCriteria').textContent = 'Showing all donors';
        }

        function renderDonorResults(donors) {
            const container = document.getElementById('donorResults');
            const noResults = document.getElementById('noResults');
            const resultCount = document.getElementById('resultCount');
            
            resultCount.textContent = donors.length;
            
            if (donors.length === 0) {
                container.innerHTML = '';
                noResults.classList.remove('hidden');
                return;
            }
            
            noResults.classList.add('hidden');
            
            container.innerHTML = donors.map(donor => `
                <div class="card hover:shadow-md transition-shadow">
                    <div class="card-content">
                        <div class="flex flex-col md:flex-row md:items-center justify-between gap-4">
                            <div class="flex items-start gap-4">
                                <div class="avatar">
                                    ${donor.name.split(' ').map(n => n[0]).join('')}
                                </div>
                                
                                <div class="flex-1">
                                    <div class="flex items-center gap-2 mb-1">
                                        <h3 class="font-semibold text-lg">${donor.name}</h3>
                                        ${donor.verified ? '<i data-lucide="check-circle" class="w-4 h-4 text-green-500"></i>' : ''}
                                        <div class="flex items-center gap-1">
                                            <i data-lucide="star" class="w-4 h-4 text-yellow-400 fill-current"></i>
                                            <span class="text-sm text-gray-600">${donor.rating}</span>
                                        </div>
                                    </div>
                                    
                                    <div class="space-y-1 text-sm text-gray-600">
                                        <div class="flex items-center gap-2">
                                            <i data-lucide="heart" class="w-4 h-4 text-red-500"></i>
                                            <span class="font-medium text-red-600">${donor.bloodType}</span>
                                            <span class="badge badge-outline text-xs">${donor.totalDonations} donations</span>
                                        </div>
                                        
                                        <div class="flex items-center gap-2">
                                            <i data-lucide="map-pin" class="w-4 h-4"></i>
                                            ${donor.location}
                                        </div>
                                        
                                        <div class="flex items-center gap-2">
                                            <i data-lucide="calendar" class="w-4 h-4"></i>
                                            Last donation: ${donor.lastDonation}
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="flex flex-col gap-3 md:items-end">
                                <span class="badge ${donor.availability === 'Available' ? 'badge-success text-green-800 bg-green-100' : 'badge'}">${donor.availability}</span>
                                
                                <div class="flex gap-2">
                                    <button onclick="contactDonor(${donor.id})" class="btn btn-secondary btn-sm">
                                        <i data-lucide="phone" class="w-4 h-4 mr-2"></i>
                                        Contact
                                    </button>
                                    
                                    <button onclick="requestDonation(${donor.id})" ${donor.availability !== 'Available' ? 'disabled' : ''} class="btn btn-primary btn-sm">
                                        Request Donation
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');
            
            lucide.createIcons();
        }

        function contactDonor(donorId) {
            const donor = mockDonors.find(d => d.id === donorId);
            showToast(`Contacting ${donor.name}...`);
        }

        function requestDonation(donorId) {
            const donor = mockDonors.find(d => d.id === donorId);
            showToast(`Donation request sent to ${donor.name}`);
        }

        // Charts initialization
        function initializeCharts() {
            // Monthly Donations vs Requests Chart
            const monthlyCtx = document.getElementById('monthlyChart');
            if (monthlyCtx && !charts.monthly) {
                charts.monthly = new Chart(monthlyCtx, {
                    type: 'line',
                    data: {
                        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
                        datasets: [
                            {
                                label: 'Donations',
                                data: [120, 135, 148, 162, 175, 188, 192, 205, 218, 225, 238, 245],
                                borderColor: '#22c55e',
                                backgroundColor: 'rgba(34, 197, 94, 0.1)',
                                fill: true,
                                tension: 0.4
                            },
                            {
                                label: 'Requests',
                                data: [95, 108, 142, 156, 169, 174, 187, 198, 203, 215, 228, 235],
                                borderColor: '#ef4444',
                                backgroundColor: 'rgba(239, 68, 68, 0.1)',
                                fill: true,
                                tension: 0.4
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        }
                    }
                });
            }

            // Blood Type Distribution Chart
            const bloodTypeCtx = document.getElementById('bloodTypeChart');
            if (bloodTypeCtx && !charts.bloodType) {
                charts.bloodType = new Chart(bloodTypeCtx, {
                    type: 'doughnut',
                    data: {
                        labels: ['O+', 'A+', 'B+', 'AB+', 'O-', 'A-', 'B-', 'AB-'],
                        datasets: [{
                            data: [38, 28, 15, 8, 6, 3, 1.5, 0.5],
                            backgroundColor: [
                                '#ef4444', '#f97316', '#eab308', '#22c55e',
                                '#3b82f6', '#8b5cf6', '#ec4899', '#6b7280'
                            ]
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom'
                            }
                        }
                    }
                });
            }

            // Weekly Activity Chart
            const weeklyCtx = document.getElementById('weeklyChart');
            if (weeklyCtx && !charts.weekly) {
                charts.weekly = new Chart(weeklyCtx, {
                    type: 'bar',
                    data: {
                        labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                        datasets: [
                            {
                                label: 'Successful',
                                data: [45, 52, 48, 58, 62, 38, 42],
                                backgroundColor: '#22c55e'
                            },
                            {
                                label: 'Pending',
                                data: [12, 8, 15, 10, 18, 22, 14],
                                backgroundColor: '#eab308'
                            },
                            {
                                label: 'Cancelled',
                                data: [3, 2, 5, 1, 4, 6, 3],
                                backgroundColor: '#ef4444'
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            x: {
                                stacked: true
                            },
                            y: {
                                stacked: true,
                                beginAtZero: true
                            }
                        }
                    }
                });
            }

            // Urgency Levels Chart
            const urgencyCtx = document.getElementById('urgencyChart');
            if (urgencyCtx && !charts.urgency) {
                charts.urgency = new Chart(urgencyCtx, {
                    type: 'line',
                    data: {
                        labels: ['00:00', '04:00', '08:00', '12:00', '16:00', '20:00'],
                        datasets: [
                            {
                                label: 'Critical',
                                data: [12, 8, 15, 18, 22, 16],
                                borderColor: '#ef4444',
                                backgroundColor: 'rgba(239, 68, 68, 0.1)',
                                borderWidth: 3
                            },
                            {
                                label: 'Urgent',
                                data: [25, 18, 32, 28, 35, 22],
                                borderColor: '#f97316',
                                backgroundColor: 'rgba(249, 115, 22, 0.1)',
                                borderWidth: 2
                            },
                            {
                                label: 'Normal',
                                data: [45, 38, 52, 48, 55, 42],
                                borderColor: '#3b82f6',
                                backgroundColor: 'rgba(59, 130, 246, 0.1)',
                                borderWidth: 2,
                                fill: true
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        }
                    }
                });
            }
        }

        // Form submission
        document.getElementById('bloodRequestForm')?.addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Get form data
            const formData = new FormData(this);
            const data = Object.fromEntries(formData);
            
            console.log('Blood request submitted:', data);
            showToast('Blood request submitted successfully! We will match you with donors shortly.');
            
            // Reset form
            this.reset();
            handleUrgencyChange(); // Reset urgency indicators
        });

        // Click outside to close user menu
        document.addEventListener('click', function(event) {
            const userMenu = document.getElementById('userMenu');
            const userButton = event.target.closest('[onclick="toggleUserMenu()"]');
            
            if (!userButton && !userMenu.contains(event.target)) {
                userMenu.classList.add('hidden');
            }
        });

        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            showView('dashboard');
            lucide.createIcons();
        });
    </script>
</body>
</html>